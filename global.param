# Global Variables
GLOBAL_IMAGE_REGISTRY ?= registry.k8s.io
CONTROLLER_IMAGE ?= $(GLOBAL_IMAGE_REGISTRY)/ingress-nginx/controller:v1.12.1@sha256:d2fbc4ec70d8aa2050dd91a91506e998765e86c96f32cffb56c503c9c34eed5b
WEBHOOK_CERTGEN_IMAGE ?= $(GLOBAL_IMAGE_REGISTRY)/ingress-nginx/kube-webhook-certgen:v1.5.2@sha256:e8825994b7a2c7497375a9b945f386506ca6a3eda80b89b74ef2db743f66a5ea

# Controller Configuration
CONTROLLER_NAME ?= controller
CONTROLLER_ENABLE_ANNOTATION_VALIDATIONS ?= true
CONTROLLER_IMAGE_CHROOT ?= false
CONTROLLER_IMAGE_NAME ?= ingress-nginx/controller
CONTROLLER_IMAGE_TAG ?= "v1.12.1"
CONTROLLER_IMAGE_DIGEST ?= sha256:d2fbc4ec70d8aa2050dd91a91506e998765e86c96f32cffb56c503c9c34eed5b
CONTROLLER_IMAGE_DIGEST_CHROOT ?= sha256:90155c86548e0bb95b3abf1971cd687d8f5d43f340cfca0ad3484e2b8351096e
CONTROLLER_IMAGE_PULL_POLICY ?= IfNotPresent
CONTROLLER_RUN_AS_NON_ROOT ?= true
CONTROLLER_RUN_AS_USER ?= 101
CONTROLLER_RUN_AS_GROUP ?= 82
CONTROLLER_ALLOW_PRIVILEGE_ESCALATION ?= false
CONTROLLER_SECCOMP_PROFILE_TYPE ?= RuntimeDefault
CONTROLLER_READ_ONLY_ROOT_FILESYSTEM ?= false
CONTROLLER_CONTAINER_NAME ?= controller
CONTROLLER_CONTAINER_PORT_HTTP ?= 80
CONTROLLER_CONTAINER_PORT_HTTPS ?= 443
CONTROLLER_CONFIG ?= {}
CONTROLLER_CONFIG_ANNOTATIONS ?= {}
CONTROLLER_PROXY_SET_HEADERS ?= {}
CONTROLLER_ADD_HEADERS ?= {}
CONTROLLER_DNS_POLICY ?= ClusterFirst
CONTROLLER_REPORT_NODE_INTERNAL_IP ?= false
CONTROLLER_WATCH_INGRESS_WITHOUT_CLASS ?= false
CONTROLLER_INGRESS_CLASS_BY_NAME ?= false
CONTROLLER_ENABLE_TOPOLOGY_AWARE_ROUTING ?= false
CONTROLLER_DISABLE_LEADER_ELECTION ?= false
CONTROLLER_ELECTION_TTL ?= ""
CONTROLLER_ALLOW_SNIPPET_ANNOTATIONS ?= false
CONTROLLER_HOST_NETWORK ?= false
CONTROLLER_HOST_PORT_ENABLED ?= false
CONTROLLER_HOST_PORT_HTTP ?= 80
CONTROLLER_HOST_PORT_HTTPS ?= 443
CONTROLLER_NETWORK_POLICY_ENABLED ?= false
CONTROLLER_ELECTION_ID ?= ""
CONTROLLER_INGRESS_CLASS_RESOURCE_NAME ?= nginx
CONTROLLER_INGRESS_CLASS_RESOURCE_ENABLED ?= true
CONTROLLER_INGRESS_CLASS_RESOURCE_DEFAULT ?= false
CONTROLLER_INGRESS_CLASS_RESOURCE_ANNOTATIONS ?= {}
CONTROLLER_INGRESS_CLASS_RESOURCE_CONTROLLER_VALUE ?= k8s.io/ingress-nginx
CONTROLLER_INGRESS_CLASS_RESOURCE_ALIASES ?= []
CONTROLLER_INGRESS_CLASS_RESOURCE_PARAMETERS ?= {}
CONTROLLER_INGRESS_CLASS ?= nginx
CONTROLLER_POD_LABELS ?= {}
CONTROLLER_POD_SECURITY_CONTEXT ?= {}
CONTROLLER_SYSCTLS ?= {}
CONTROLLER_CONTAINER_SECURITY_CONTEXT ?= {}
CONTROLLER_PUBLISH_SERVICE_ENABLED ?= true
CONTROLLER_PUBLISH_SERVICE_PATH_OVERRIDE ?= ""
CONTROLLER_SCOPE_ENABLED ?= false
CONTROLLER_SCOPE_NAMESPACE ?= ""
CONTROLLER_SCOPE_NAMESPACE_SELECTOR ?= ""
CONTROLLER_CONFIG_MAP_NAMESPACE ?= ""
CONTROLLER_TCP_CONFIG_MAP_NAMESPACE ?= ""
CONTROLLER_TCP_CONFIG_MAP_ANNOTATIONS ?= {}
CONTROLLER_UDP_CONFIG_MAP_NAMESPACE ?= ""
CONTROLLER_UDP_CONFIG_MAP_ANNOTATIONS ?= {}
CONTROLLER_MAXMIND_LICENSE_KEY ?= ""
CONTROLLER_EXTRA_ARGS ?= {}
CONTROLLER_EXTRA_ENVS ?= []

# Deployment Configuration
REPLICAS ?= 1
REVISION_HISTORY_LIMIT ?= 10
MIN_READY_SECONDS ?= 0
IMAGE_PULL_POLICY ?= IfNotPresent

# Node Selector
NODE_SELECTOR_OS ?= linux

# Validating Webhook Configuration
VALIDATING_WEBHOOK_SERVICE_NAME ?= release-name-ingress-nginx-controller-admission
VALIDATING_WEBHOOK_PORT ?= 443
VALIDATING_WEBHOOK_PATH ?= /networking/v1/ingresses

# Jobs for Webhook Certificate Management
CREATE_SECRET_JOB_NAME ?= release-name-ingress-nginx-admission-create
PATCH_WEBHOOK_JOB_NAME ?= release-name-ingress-nginx-admission-patch

# Default Backend Configuration
DEFAULT_BACKEND_ENABLED ?= false
DEFAULT_BACKEND_IMAGE ?= $(GLOBAL_IMAGE_REGISTRY)/defaultbackend-amd64:1.5
DEFAULT_BACKEND_PORT ?= 8080

# TCP and UDP Services
TCP_SERVICES ?= {}
UDP_SERVICES ?= {}

# Diffie-Hellman Parameter
DH_PARAM ?= ""

# Resource Limits and Requests
CPU_REQUEST ?= 100m
MEMORY_REQUEST ?= 90Mi
